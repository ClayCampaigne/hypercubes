# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Python project for manipulating n-dimensional solids (currently wireframes) using ipywidgets and bqplot for interactive visualization. The main functionality is implemented in a Jupyter notebook that creates interactive 3D/4D+ cube visualizations with rotation controls.

## Environment Setup

Install dependencies:
```bash
pip install -r requirements.txt
```

## Running the Project

The main interface is through Jupyter notebooks:
- Primary notebook: `ndcubes.ipynb` 
- To run: Launch Jupyter and open the notebook, then "Kernel menu -> Restart and Run All"
- The project is designed to work in web browsers and can be run on Binder

## Code Architecture

### Core Classes

**ndcube class** (`ndcubes.ipynb` cell 4):
- Generates n-dimensional hypercube vertices using itertools.product
- Builds edge connectivity by checking vertex adjacency
- Provides linear transformation and translation methods
- Implements parallel projection to 2D for visualization

**occludingcube class** (cell 5):
- Incomplete implementation attempting back-face culling for hidden surface removal
- Similar structure to ndcube but with additional face/normal vector infrastructure

### Visualization Pipeline

1. **Vertex Generation**: Creates all 2^n vertices of n-dimensional cube
2. **Edge Detection**: Quadratic algorithm finds edges by checking unit distance between vertices  
3. **Projection**: Parallel projection maps n-D points to first two coordinates for 2D display
4. **Interactive Rotation**: Each slider rotates dimension 0 into dimension i+1 using rotation matrices
5. **Real-time Update**: Widget observers update visualization as sliders change

### Key Configuration

- `ndims` variable in cell 7 controls dimensionality (default 4D)
- Rotation matrices generated by `rotmat()` function for n-dimensional rotations
- bqplot Lines objects render each edge separately for interactive updates

## Development Notes

- The edge detection algorithm is intentionally inefficient but clear for educational purposes
- Hidden line removal is planned but not yet implemented (see cell 10 comment)
- All transformations preserve the hypercube structure while enabling interactive exploration